# LTW 项目重启学习与开发路线图

本文件旨在为您重启 LTW 项目提供一个清晰的学习和开发路径。跟随此路线，您将逐步掌握所需技能，并最终实现支持全版本 Minecraft 的目标。

---

## 第一部分：知识学习路径

在修改代码之前，请先通过以下关键词搜索视频教程，系统地学习相关背景知识。

### 阶段一：图形学基础 (可选，但强烈推荐)
*   **关键词**: `计算机图形学入门`、`渲染管线`
*   **目标**: 建立宏观认知，了解 3D 图像是如何呈现在屏幕上的。

### 阶段二：现代 OpenGL 核心编程 (最重要)
这是学习的绝对核心，请务必投入最多的时间。

*   **强烈推荐的系列**:
    *   **`LearnOpenGL 中文`**: 这是学习现代 OpenGL 的黄金标准教程，有网站 (learnopengl.com) 和大量的配套中文视频。请系统地跟学一遍。

*   **核心概念关键词**:
    *   `OpenGL 现代核心模式`
    *   `OpenGL VAO VBO EBO` (必须掌握)
    *   `OpenGL 着色器 GLSL 入门`
    *   `OpenGL 纹理`
    *   `OpenGL 帧缓冲 FBO`

### 阶段三：转向 OpenGL ES
当您掌握了桌面版 OpenGL 的基础后，再来了解移动端的异同。

*   **关键词**:
    *   `OpenGL ES 3.0 教程`
    *   `Android OpenGL ES 开发`
    *   `OpenGL 与 GLES 的区别`

---

## 第二部分：第一个编码任务

当您对 OpenGL 有了基本了解后，就可以开始第一个实战任务。

### 任务目标
拦截旧版游戏对 `glVertexAttribPointer` 的调用，并手动记录顶点布局状态，为实现“默认VAO”模拟打下基础。

### 操作步骤

1.  **理解 `glVertexAttribPointer`**
    *   在学习 OpenGL 时，请重点理解此函数的作用：它告诉 OpenGL 如何解释顶点缓冲（VBO）中的数据（例如，前 3 个浮点数是位置，后 2 个是纹理坐标等）。

2.  **编写包装函数**
    *   在 `ltw/src/main/tinywrapper/` 目录下，找到一个合适的文件（例如 `vertexattrib.c`）或者新建一个文件。
    *   添加您自己的 `glVertexAttribPointer` 函数实现。初期，它可以只包含一个打印语句，用于验证拦截是否成功。

    ```c
    // 示例代码框架
    void glVertexAttribPointer(GLuint index, GLint size, GLenum type, GLboolean normalized, GLsizei stride, const void *pointer) {
        // 打印一条消息来确认函数被成功拦截
        printf("LTW-DEBUG: glVertexAttribPointer called! index=%u, size=%d\n", index, size);

        // 在任务的后期，您需要在这里将这些参数保存到一个自定义的结构体中。

        // 在初期，为了保持程序能运行，我们先直接调用底层的 GLES 函数
        es3_functions.glVertexAttribPointer(index, size, type, normalized, stride, pointer);
    }
    ```

3.  **激活包装函数**
    *   打开 `ltw/src/main/tinywrapper/es3_overrides.h` 文件。
    *   在文件的 `GLESOVERRIDE` 宏列表中，添加新的一行：
        ```c
        GLESOVERRIDE(glVertexAttribPointer)
        ```
    *   这会告诉 `proc.c` 中的“总调度室”将所有对 `glVertexAttribPointer` 的调用都转到您编写的函数来。

4.  **编译与验证**
    *   执行 `./gradlew :ltw:assembleRelease` 命令编译项目。
    *   尝试用一个旧版 Minecraft (如 1.16.5) 加载这个修改后的库。
    *   在日志中观察是否有您添加的 `LTW-DEBUG: glVertexAttribPointer called!` 打印信息。如果能看到，恭喜您，您已经成功迈出了第一步！

---

祝您学习顺利！在任何步骤遇到问题，随时可以回来与我讨论。
